-# app/views/repository_files/_file_list.html.haml

- if @repositories.empty?
  %div{ class: "p-6 text-gray-700" } No repositories found.
- elsif @repository_files.empty?
  %div{ class: "p-6 text-gray-700" } Please import files or check whether the repository is empty.
- else
  %div{ class: "flex-1 overflow-auto rounded-2xl bg-white shadow-sm" }
    %table{ class: "w-full text-sm table-fixed" }
      %thead{ class: "bg-indigo-100 text-gray-600 sticky top-0 z-10" }
        %tr
          %th{ class: "px-4 py-3 font-semibold" }
            %div{ class: "flex items-center gap-3" }
              %input#check_all{ type: "checkbox" }
              %span Select All

              %div{ class: "ml-auto flex items-center gap-2" }
                %select#bulk_action{ class: "text-sm border rounded px-2 py-1" }
                  %option{ value: "" } Bulk actions...
                  %option{ value: "noop" } (placeholder) No-op

      %tbody{ class: "divide-y divide-gray-300" }
        - @repository_files.each do |f|
          %tr{ class: "hover:bg-indigo-50/60 transition" }
            %td{ class: "px-4 py-3" }
              %div{ class: "flex items-start gap-3" }
                %input.file_check{ type: "checkbox", value: f.id, class: "mt-1" }
                %div{ class: "flex-1 min-w-0" }
                  %div{ class: "truncate font-mono text-sm text-gray-900", title: f.path }
                    = f.path

%div{ class: "bottom-pagination" }
  = render "shared/pagination", collection: @repository_files