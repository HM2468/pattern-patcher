%div{ class: "flex items-center justify-between mb-4" }
  %div
    %div{ class: "text-lg font-semibold text-gray-900" }
      Processors
    %div{ class: "text-sm text-gray-600" }
      Define how lexemes are processed.
  - if @section == "processors" && defined?(@lexeme_processors) && @lexeme_processors.present?
    = link_to "New Processor",
      new_lexeme_processor_path,
      class: "button-primary"
%div{ class: "rounded-2xl bg-gray-50 p-4 shadow-sm" }
  %div{ class: "overflow-x-auto" }
    %table{ class: "min-w-full text-sm" }
      %thead
        %tr{ class: "text-left text-gray-600" }
          %th{ class: "py-2 pr-4" } Name
          %th{ class: "py-2 pr-4" } Key
          %th{ class: "py-2 pr-4" } Entrypoint
          %th{ class: "py-2 pr-4" } Enabled
          %th{ class: "py-2 pr-0 text-right" } Actions
      %tbody
        - @lexeme_processors.each do |lp|
          %tr{ class: "border-t border-gray-200" }
            %td{ class: "py-2 pr-4 text-gray-900 font-medium" }= lp.name
            %td{ class: "py-2 pr-4 font-mono text-gray-700" }= lp.key
            %td{ class: "py-2 pr-4 font-mono text-gray-700" }= lp.entrypoint
            %td{ class: "py-2 pr-4" }
              - if lp.enabled?
                %span{ class: "inline-flex items-center rounded-full bg-emerald-50 px-2 py-0.5 text-xs font-medium text-emerald-700" } enabled
              - else
                %span{ class: "inline-flex items-center rounded-full bg-gray-100 px-2 py-0.5 text-xs font-medium text-gray-700" } disabled
            %td{ class: "py-2 pr-0 text-right space-x-2" }
              = button_to "Run",
                process_runs_path,
                method: :post,
                params: { lexeme_processor_id: lp.id },
                form: { class: "inline-flex" },
                onclick: "return window.PopConfirmLog.open(event, this)",
                data: { confirm_title: "Start process", confirm_message: "Run this processor?" },
                class: "button-secondary"
              = link_to "Edit", edit_lexeme_processor_path(lp), class: "button-secondary"
              = button_to "Delete",
                lexeme_processor_path(lp),
                method: :delete,
                form: { class: "inline-flex" },
                onclick: "return window.PopConfirmLog.open(event, this)",
                data: { confirm_title: "Delete processor", confirm_message: "Delete this processor? This cannot be undone." },
                class: "button-danger"
