-# app/views/shared/_flash.html.haml
-# Flash (plain JS, no Stimulus)
-# - overlay (does NOT push layout)
-# - right-aligned to the same max container as main
-# - auto dismiss via data-flash-timeout
-# - lower z-index than confirm_log (confirm_log uses z-50)

- if flash.present?
  -# Center a max-width container, then right-align inside it
  %div{ class: "fixed top-16 left-1/2 z-40 w-full max-w-6xl -translate-x-1/2 px-6 pointer-events-none" }
    %div{ class: "flex justify-end" }
      %div{ class: "w-full max-w-sm space-y-3" }
        - flash.each do |type, message|
          - next if message.blank?

          %div{
            class: "rounded-xl border px-5 py-4 text-base font-semibold leading-relaxed shadow-sm #{flash_css_class(type)} pointer-events-auto",
            role: "status",
            data: { flash: "1", flash_timeout: 3000 }
          }
            = message