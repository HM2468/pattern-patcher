-# app/views/layouts/lexeme_workspace.html.haml
-# Reuse layouts/application.html.haml (no duplicated <head>/<body>)
- nav = nav_selections
- current = lexeme_workspace_section

- content_for :layout_main do
  -# Workspace layout (sidebar + main)
  %div{ class: "flex gap-6" }
    -# Left sidebar (25%~30%)
    %aside{ class: "w-full md:w-[28%] lg:w-[26%] flex-shrink-0" }
      %div{ class: "rounded-2xl bg-gray-50 p-4 shadow-sm space-y-2" }
        %div{ class: "text-sm font-semibold text-gray-900" } Workspace
        %div{ class: "text-xs text-gray-600" }
          Manage processors, Process Runs, and lexemes.

        %div{ class: "pt-3 space-y-1" }
          - nav.each do |label, key, url|
            - active = (current == key)
            = link_to url,
              class: ["flex items-center justify-between rounded-xl px-3 py-2 text-sm", active ? "bg-white shadow-sm text-gray-900 font-semibold" : "text-gray-700 hover:bg-white hover:shadow-sm"].join(" ") do
              %span= label
              - if active
                %span{ class: "text-xs text-gray-500" } â€¢

    -# Right main content
    %section{ class: "flex-1 min-w-0" }
      = yield

= render template: "layouts/application"