-# app/views/scan_runs/scanned_files.html.haml

%div{ class: "max-w-6xl mx-auto p-6 space-y-4" }
  %div{ class: "flex items-center justify-between" }
    %div
      %div{ class: "text-lg font-semibold" } Scanned Files
      %div{ class: "text-sm text-gray-600" }
        ScanRun:
        %span{ class: "font-mono" }= @scan_run.id
    %div
      = link_to "Back", scan_runs_path, class: "button-secondary"

  - if @scan_run_files.blank?
    %div{ class: "rounded-xl bg-gray-50 p-6 text-gray-600" } No scanned files found.
  - else
    %div{ class: "overflow-hidden rounded-2xl border border-gray-200 bg-white" }
      %div{ class: "grid grid-cols-12 gap-3 border-b border-gray-200 bg-gray-50 px-4 py-2 text-xs font-semibold text-gray-700" }
        %div{ class: "col-span-9" } File
        %div{ class: "col-span-3 text-right" } Status

      %div{ class: "divide-y divide-gray-100" }
        - @scan_run_files.each do |scan_run_file|
          %div{ class: "grid grid-cols-12 gap-3 px-4 py-2 text-sm" }
            %div{ class: "col-span-9 font-mono text-xs text-gray-800 break-all" }= scan_run_file.repository_file&.path.to_s
            %div{ class: "col-span-3 text-right font-mono text-xs text-gray-700" }= scan_run_file.status.to_s

  = render "shared/pagination", collection: @scan_run_files